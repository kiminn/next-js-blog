---
title: Stack & Heap
date: 2024.3.31
description: 면접을위한cs전공지식노트_3장 중 스택과 힙 정리
---

운영체제는 프로세스에 적절한 메모리를 할당하는데 다음 구조를 기반으로 할당합니다

스택은 위 주소부터 할당되고, 힙은 아래 주소부터 할당됩니다.

![](/posts/프로세스와.png)

프론트엔드 개발자가 스택(Stack)과 힙(Heap)에 대해 이해하는 것은 프로그램의 성능을 최적화하고 메모리 관리를 개선하는 데 도움이 될 수 있습니다.

### 코드(code) 영역

메모리의 코드(code) 영역은 실행할 프로그램의 코드가 저장되는 영역으로 텍스트(code) 영역이라고도 부릅니다.

CPU는 코드 영역에 저장된 명령어를 하나씩 가져가서 처리하게 됩니다.

### 데이터(data) 영역

메모리의 데이터(data) 영역은 프로그램의 전역 변수와 정적(static) 변수가 저장되는 영역입니다.

데이터 영역은 프로그램의 시작과 함께 할당되며, 프로그램이 종료되면 소멸합니다.

### 스택(stack) 영역

-   스택은 메모리의 선형 구조로, 후입선출(LIFO, Last In First Out)의 형태를 가집니다. 이는 가장 최근에 추가된 데이터가 가장 먼저 제거됨을 의미합니다.
-   스택 영역은 푸시(push) 동작으로 데이터를 저장하고, 팝(pop) 동작으로 데이터를 인출합니다.
-   주로 함수 호출과 관련된 데이터를 저장하는 데 사용됩니다.(로컬 변수, 매개변수, 반환 주소 등) ➡️ 함수가 반환될 때 이러한 데이터가 제거됩니다.
-   스택은 고정된 크기를 가지며, 메모리 공간을 효율적으로 사용할 수 있습니다.
-   그러나 크기가 고정되어 있기 때문에 너무 많은 데이터를 저장하려고 하거나 스택 오버플로우(Stack Overflow)가 발생할 수 있습니다.
-   이렇게 스택 영역에 저장되는 함수의 호출 정보를 스택 프레임(stack frame)이라고 합니다.

### 힙(heap) 영역

-   힙은 스택과는 다르게 자유롭게 할당과 해제가 가능한 동적 메모리 영역입니다. (사용자가 직접 관리)
-   주로 동적으로 생성된 데이터나 객체를 저장하는 데 사용됩니다.(new 연산자로 생성된 객체나 배열은 힙에 할당)
-   힙은 자유롭게 크기가 조절되며, 사용 가능한 메모리 공간에 따라 동적으로 할당되고 해제됩니다.
-   그러나 메모리 할당 및 해제가 빈번하게 일어나기 때문에 스택보다는 느릴 수 있습니다.
-   힙은 메모리의 무작위한 위치에 데이터를 저장하므로 데이터에 접근할 때 포인터를 사용하여 해당 위치를 찾아야 합니다.(스택과는 다른 데이터 접근 방식)

간단히 말해, 스택은 주로 함수 호출과 관련된 데이터를 저장하는 데 사용되고 고정된 크기를 가지며 후입선출의 형태를 가지며, 힙은 동적으로 할당되는 데이터를 저장하는 데 사용되며 자유로운 크기 조절이 가능하고, 메모리의 무작위 위치에 데이터가 저장됩니다.

---

아래는 프론트엔드 관점에서 스택과 힙을 어떻게 이해해야 하는지에 대한 것입니다

**1️⃣ 메모리 누수(Memory Leaks) 방지**

힙에 할당된 메모리는 수동으로 해제되어야 합니다. 만약 객체나 배열 등의 자원이 더 이상 필요하지 않은데도 해제되지 않으면 메모리 누수가 발생할 수 있습니다. <br/>
프론트엔드에서는 대규모의 데이터를 처리하거나 장기간 실행되는 웹 애플리케이션을 개발할 때 특히 메모리 누수에 주의해야 합니다. <br/>
메모리 누수가 발생하면 페이지의 성능이 저하되거나 브라우저가 불안정해질 수 있습니다.

**2️⃣ 렌더링 성능 향상**

렌더링 프로세스에서는 스택을 사용하여 함수 호출을 관리합니다. 이 때문에 함수 호출이 깊어질수록 스택 오버플로우(Stack Overflow)가 발생할 수 있습니다. <br/>
따라서 재귀 함수나 무한 반복을 조심해야 합니다.
또한, 힙에 할당된 대규모의 데이터를 렌더링할 때는 성능 이슈가 발생할 수 있습니다.<br/>
이를 해결하기 위해 가비지 컬렉션(Garbage Collection)을 최적화하거나 데이터를 적절히 관리하여 메모리 사용을 최적화해야 합니다.

**3️⃣ 상태 관리(State Management)**

프론트엔드 애플리케이션에서는 상태 관리 라이브러리를 사용하여 애플리케이션의 상태를 관리합니다.<br/>
이때 상태 정보는 메모리에 저장되는데, 이러한 상태 정보는 힙에 할당됩니다. <br/>
프론트엔드 개발자는 상태 관리 라이브러리를 효율적으로 사용하여 상태 정보를 관리하고, <br/>
필요 없는 상태는 적시에 제거하여 메모리 사용을 최적화해야 합니다.

**4️⃣ 성능 최적화**

프론트엔드에서는 빠른 렌더링과 반응성이 중요합니다. 이를 위해 불필요한 메모리 할당을 최소화하고, 메모리 사용을 최적화하는 것이 중요합니다.<br/>
예를 들어, 반복문 내에서 불필요한 객체 생성을 피하고, 데이터 구조를 잘 선택하여 메모리 사용을 최적화할 수 있습니다.<br/>

요약하면, 프론트엔드 개발자는 스택과 힙을 이해하여 메모리 누수를 방지하고 렌더링 성능을 향상시키며, 상태 관리와 성능 최적화를 위해 메모리 사용을 최적화하는 방법을 고려해야 합니다.
